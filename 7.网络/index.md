# 网络

![网络简图](https://gitee.com/M-cheng-web/map-storage/raw/master/vue-img/eb26dc993bc548d790a76e0ccefdb673_tplv-k3u1fbpfcp-watermark.webp)


## HTTP
### GET和POST的差别
规范差别:
1. get能被缓存,post不能被缓存
2. get参数能保留在浏览器历史中,post参数不会保存在浏览器历史
3. get对请求数据长度的限制为2048个字符,post没有限制
4. get安全性较差,因为参数都在地址栏

细致的差别:
1. 请求数据的长度限制并不是HTTP协议限制的,是大多数浏览器和服务器对URL的限制

**post方法会产生俩个TCP数据包?**<br>
post 会将 header 和 body 分开发送,先发送 header,服务端返回 100 状态码再发送 body?<br>
HTTP 协议中没有明确说明 POST 会产生两个 TCP 数据包,而且实际测试(Chrome)发现,header 和 body 不会分开发送<br>
所以,header 和 body 分开发送是部分浏览器或框架的请求方法,不属于 post 必然行为<br>


### 常见的状态码有哪些
+ 信息响应 100–199
+ 成功响应 200–299
+ 重定向 300–399
+ 客户端错误 400–499
+ 服务器错误 500–599

**常见状态码**
+ 200 请求成功,有正确数据返回
+ 500 服务器错误,一般是后端报错了
+ 404 服务器上找不到地址,一般是请求接口错了,或者服务器在部署
+ 400 请求参数有问题,格式类型不对会导致这个问题

### 304表示什么,和302有什么区别

**304含义**<br>
304响应是一种缓存机制,服务器给出的相应中通常会包含Etag来标识资源ID,客户端在下次访问同一URL会带上这个ETag,<br>
服务器返回资源前会判断ETag是否与客户端提供的Etag匹配,如果匹配则说明资源未发生改变,此时返回304

### 介绍一下HTTP缓存策略
浏览器缓存保存着用户通过 HTTP 获取的所有资源,再下一次请求时可以避免重复向服务器发出多余的请求,<br>
通俗的说就是在你访问过一次某个网站之后,这个站点的文字、图片等所有资源都被下载到本地了,<br>
下次再访问该网站时判断是否满足缓存条件,如果满足就不用再花费时间去等待资源的获取了<br>

**缓存分类**
+ 强缓存
+ 协商缓存

浏览器在加载资源时,会先判断是否命中强缓存再验证是命中协商缓存

**强缓存流程**
1. 查看 header 头中的 Expire 和 Cache-control 来判断是否满足规则
2. 如果满足规则,就返回缓存的数据
3. 如果不满足规则,就向服务器发送请求
4. 服务器返回数据
5. 将新数据存入缓存

Expire
> Expires:Fri, 27 Oct 2017 07:55:30 GMT
表示缓存到期时间,GMT表示的是格林威治时间,和北京时间差8小时<br>
缺点:这个时间是绝对时间,意味着修改客户端的本地时间就会导致缓存失效<br>

Cache-control
> Cache-Control:max-age=600
这个是相对时间,表示的是最大有效时间是600S,而且`Cache-control`的优先级比`Expire`高

**协商缓存流程**
1. 把资源标识,比如 If-Modify-Since 或 Etag 发送到服务器,确认资源是否更新
2. 如果资源未更新,请求响应返回的http状态为 304 并且会显示一个 Not Modified 的字符串,告诉浏览器使用本地缓存
3. 如果资源已经更新,返回新的数据
4. 将新数据存入缓存

Last-Modified, If-Modified-Since
> Last-Modified: Fri, 27 Oct 2017 07:55:30 GMT
浏览器第一次请求资源的时候,服务器返回的 header 上会带有一个 Last-Modified 字段,表示资源最后修改的时间<br>
当浏览器再次请求该资源时,请求头中会带有一个 If-Modified-Since 字段,这个值是第一次请求返回的 Last-Modified 的值<br>
服务器收到这个请求后,将 If-Modified-Since 和当前的 Last-Modified 进行对比<br>
如果相等,则说明资源未修改,返回 304,浏览器使用本地缓存<br>
缺点:
+ 最小单位是秒,也就是说短时间内资源发生了改变,Last-Modified并不会变化
+ 周期性变化,如果这个资源在一个周期内修改回原来的样子了,我们认为是可以使用缓存的,但是 Last-Modified 可不这样认为
所以需要引入`ETag`

ETag<br>
Etag 一般是由文件内容 hash 生成的,也就是说它可以保证资源的唯一性,资源发生改变就会导致 Etag 发生改变<br>
同样地,在浏览器第一次请求资源时,服务器会返回一个 Etag 标识<br>
当再次请求该资源时,会通过 If-no-match 字段将 Etag 发送回服务器,然后服务器进行比较<br>
如果相等则返回 304 表示未修改<br>

### Connection为keep-alive表示什么
在 HTTP/1.0 协议中如果请求头包含`Connection: keep-alive`则代表开启`keep-alive`<br>
在 HTTP/1.1 协议中，默认开启 keep-alive，除非显式地关闭它`Connection: close`<br>
keep-alive 技术创建的目的，就是能在多次 HTTP 之间重用同一个 TCP 连接，从而减少创建/关闭多个 TCP 连接的开销

## DNS
### 介绍一下DNS


## TCP
### 三次握手
### 四次挥手


## HTTPS
### 介绍一下HTTPS的工作原理
### HTTPS和HTTP有什么区别


## CDN
### 介绍一下CDN是什么以及它的应用场景
### CDN的回源是什么


## 从输入URL到页面展示,发生了什么


## 跨域解决方案